const hud =
{
    speedometer:
    {
        toggle: toggle =>
        {
            if(!toggle) $('#hud').removeClass('hud-speedometer')
            else $('#hud').addClass('hud-speedometer')
        },
        on: () =>
        {
            speedometer.speed(0)
            $('#hud .speedometer').addClass('speedometer-on')

            let count = 0
            let timer = setInterval(() =>
            {
                speedometer.speed(count)
                count ++

                if(count > 180)
                {
                    clearInterval(timer)
                    timer = setInterval(() =>
                    {
                        speedometer.speed(count)
                        count --

                        if(count < 0) clearInterval(timer)
                    }, 4)
                }
            }, 4)
        },
        off: () =>
        {
            speedometer.speed(0)
            $('#hud .speedometer').removeClass('speedometer-on')
        },

        speed: (value) =>
        {
            let currentValue = value
            if(currentValue < 0) currentValue = 0
            if(currentValue > 180) currentValue = 180

            let convert = 189 + ((currentValue / 180 * 100) * 84 / 100)

            $('#hud .speedometer #speed').css({
                "stroke-dashoffset": -1 * convert
            })
            $('#hud .speedometer .count h4').text(value)

            $('#hud .speedometer-on .speed-numbers').each((i, item) =>
            {
                if(value > parseInt($(item).text())) $(item).css({
                        "color": "#a28349"
                    })
                else $(item).css({
                        "color": "#797979"
                    })
            })
        },
        mileage: (value) =>
        {
            $('#hud .speedometer .mileage h4').html(`<span>${parseInt(value)}</span>`)
            if(`${value}`.length < 8)
            {
                for(var i = 0; i < 8 - `${value}`.length; i ++) $('#hud .speedometer .mileage h4').prepend('0')
            }
        }
    },
    cash:
    {
        give: (value) =>
        {
            let cash = parseFloat($('#hud .cash h4 span').attr('data-cash'))
            const formating = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'})

            $('#hud .cash h4 span').attr('data-cash', cash + value)
            $({ countNum: cash }).animate({ countNum: cash + value }, {
                duration: 700,
                easing:'linear',
                step: function(val)
                {
                    $('#hud .cash h4 span').text(formating.format(val).replace('$', ''))
                }})

            const div = $('#hud .cash section').append(`
                <div ${value < 0 ? "style='color: #f68383'" : ""}>$ <span>${formating.format(value).replace('$', '')}</span></div>`).find('div:last-child')

            $(div).animate({
                "opacity": "1"
            }, 300, () => {
                setTimeout(() =>
                {
                    $(div).animate({
                        "opacity": "0"
                    }, 300, () => $(div).remove())
                }, 5000)
            })
        },
        set: (value) =>
        {
            let cash = parseFloat($('#hud .cash h4 span').attr('data-cash'))
            const formating = new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD'})

            if(cash === value)return

            $('#hud .cash h4 span').attr('data-cash', value)
            $({ countNum: cash }).animate({ countNum: value }, {
                duration: 700,
                easing:'linear',
                step: function(val)
                {
                    $('#hud .cash h4 span').text(formating.format(val).replace('$', ''))
                }})

            const div = $('#hud .cash section').append(`
                <div ${value < cash ? "style='color: #f68383'" : ""}>$ <span>${value < cash ? "-" : ""}${formating.format(value < cash ? cash - value : value - cash).replace('$', '')}</span></div>`).find('div:last-child')

            $(div).animate({
                "opacity": "1"
            }, 300, () => {
                setTimeout(() =>
                {
                    $(div).animate({
                        "opacity": "0"
                    }, 300, () => $(div).remove())
                }, 5000)
            })
        }
    },
    notify:
    {
        send: (text, type = 'info') =>
        {
            let block
            if(type === 'warning')
            {
                block = $('#hud .notify').append(`
                    <section class="notify-warning">
                        <span>${text}</span>
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 24 24"><path d="M12,0C5.373,0,0,5.373,0,12s5.373,12,12,12s12-5.373,12-12S18.627,0,12,0z M12,19.66c-0.938,0-1.58-0.723-1.58-1.66c0-0.964,0.669-1.66,1.58-1.66c0.963,0,1.58,0.696,1.58,1.66C13.58,18.938,12.963,19.66,12,19.66zM12.622,13.321c-0.239,0.815-0.992,0.829-1.243,0c-0.289-0.956-1.316-4.585-1.316-6.942c0-3.11,3.891-3.125,3.891,0C13.953,8.75,12.871,12.473,12.622,13.321z"/></svg>
                    </section>`).find('section:last-child')
            }
            else if(type === 'error')
            {
                block = $('#hud .notify').append(`
                    <section class="notify-error">
                        <span>${text}</span>
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 51.976 51.976"><path d="M44.373,7.603c-10.137-10.137-26.632-10.138-36.77,0c-10.138,10.138-10.137,26.632,0,36.77s26.632,10.138,36.77,0C54.51,34.235,54.51,17.74,44.373,7.603z M36.241,36.241c-0.781,0.781-2.047,0.781-2.828,0l-7.425-7.425l-7.778,7.778c-0.781,0.781-2.047,0.781-2.828,0c-0.781-0.781-0.781-2.047,0-2.828l7.778-7.778l-7.425-7.425c-0.781-0.781-0.781-2.048,0-2.828c0.781-0.781,2.047-0.781,2.828,0l7.425,7.425l7.071-7.071c0.781-0.781,2.047-0.781,2.828,0c0.781,0.781,0.781,2.047,0,2.828l-7.071,7.071l7.425,7.425C37.022,34.194,37.022,35.46,36.241,36.241z"/></svg>
                    </section>`).find('section:last-child')
            }
            else if(type === 'info')
            {
                block = $('#hud .notify').append(`
                    <section class="notify-info">
                        <span>${text}</span>
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 459.334 459.334"><path d="M175.216,404.514c-0.001,0.12-0.009,0.239-0.009,0.359c0,30.078,24.383,54.461,54.461,54.461s54.461-24.383,54.461-54.461c0-0.12-0.008-0.239-0.009-0.359H175.216z"/><path d="M403.549,336.438l-49.015-72.002c0-22.041,0-75.898,0-89.83c0-60.581-43.144-111.079-100.381-122.459V24.485C254.152,10.963,243.19,0,229.667,0s-24.485,10.963-24.485,24.485v27.663c-57.237,11.381-100.381,61.879-100.381,122.459c0,23.716,0,76.084,0,89.83l-49.015,72.002c-5.163,7.584-5.709,17.401-1.419,25.511c4.29,8.11,12.712,13.182,21.887,13.182H383.08c9.175,0,17.597-5.073,21.887-13.182C409.258,353.839,408.711,344.022,403.549,336.438z"/></svg>
                    </section>`).find('section:last-child')
            }

            if(!block)return

            $(block).animate({
                "opacity": "1",
                "bottom": "0"
            }, 500, () => {
                setTimeout(() =>
                {
                    $(block).animate({
                        "opacity": "0",
                        "bottom": "-30px"
                    }, 500, () => {
                        $(block).remove()
                    })
                }, text.length < 100 ? 5000 : 5000 + text.length * 10)
            })
        },
        clear: () =>
        {
            $('#hud .notify section').remove()
        }
    },
    chat:
    {
        timeout: null,

        history: [],
        historyCurrentText: null,

        toggle: toggle =>
        {
            if(!toggle) $('#hud .chat').addClass('chat-hide')
            else
            {
                $('#hud .chat').removeClass('chat-hide')
                hud.chat.setTimeout()
            }
        },
        open: toggle =>
        {
            if(toggle)
            {
                $('#hud .chat').addClass('chat-opened')
                setTimeout(() => $('#hud .chat input').focus(), 100)

                $('#hud .chat').removeClass('chat-timeout')
                clearTimeout(hud.chat.timeout)
            }
            else
            {
                $('#hud .chat').removeClass('chat-opened')
                $('#hud .chat input').blur()

                hud.chat.setTimeout()
                rage.send('ui::hud:closeChat')
            }
        },

        send: (text, data = {}) =>
        {
            if(!text
                || !text.length)return

            let timestamp = ''

            if(new Date().getHours() < 10) timestamp += '0' + new Date().getHours() + ":"
            else timestamp += new Date().getHours() + ":"
            if(new Date().getMinutes() < 10) timestamp += '0' + new Date().getMinutes() + ":"
            else timestamp += new Date().getMinutes() + ":"
            if(new Date().getSeconds() < 10) timestamp += '0' + new Date().getSeconds()
            else timestamp += new Date().getSeconds()

            let styles = ""

            if(data.style)
            {
                if(data.style.color)  styles += `color: ${data.style.color};`
                if(data.style.bold) styles += "font-weight: bold;"
            }

            $('#hud .chat .chat-body div').append(`
                <section class="${!data.timestamp ? "chat-notimestamp" : ""}">
                    ${data.timestamp ? `<h1>[${timestamp}]</h1>` : ""}
                    <span style="${styles}">${text}</span>
                    ${data.phone ? `<svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512 512"><circle style="fill:#2196F3;" cx="256" cy="256" r="256"/><path style="fill:#FAFAFA;" d="M384,308.928c-27.616,0-53.952-6.016-78.24-17.888c-3.808-1.824-8.224-2.112-12.256-0.736c-4.032,1.408-7.328,4.352-9.184,8.16l-11.52,23.84c-34.56-19.84-63.232-48.544-83.104-83.104l23.872-11.52c3.84-1.856,6.752-5.152,8.16-9.184c1.376-4.032,1.12-8.448-0.736-12.256c-11.904-24.256-17.92-50.592-17.92-78.24c0-8.832-7.168-16-16-16H128c-8.832,0-16,7.168-16,16c0,149.984,122.016,272,272,272c8.832,0,16-7.168,16-16v-59.072C400,316.096,392.832,308.928,384,308.928z"/></svg>

                    <svg viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg"><path id="Shape" d="m54.72 3.16c-2.057195-2.02825223-4.8310824-3.16367762-7.72-3.16h-36c-2.91795078-.00185865-5.71692387 1.15646972-7.78022708 3.21977292-2.0633032 2.06330321-3.22163157 4.8622763-3.21977292 7.78022708v26c-.00185865 2.9179508 1.15646972 5.7169239 3.21977292 7.7802271 2.06330321 2.0633032 4.8622763 3.2216316 7.78022708 3.2197729h28.14c.2855008-.0014092.5581537.118558.75.33l8.38 9.35c.3045628.3224127.7851027.4056973 1.1804007.2045807.3952981-.2011165.6108974-.6385772.5295993-1.0745807l-1.29-8.01c-.0865636-.5066999.2314764-.9946516.73-1.12 1.9763748-.4760586 3.7870572-1.4781539 5.24-2.9 2.1264988-2.0301847 3.3327695-4.8400009 3.34-7.78v-26c.0037938-2.94775183-1.178255-5.77313683-3.28-7.84z" fill="#f29c1f"/><path id="Shape" d="m58 11v26c-.0072305 2.9399991-1.2135012 5.7498153-3.34 7.78l-21.57-20.78 21.63-20.84c2.101745 2.06686317 3.2837938 4.89224817 3.28 7.84z" fill="#f0c419"/><path id="Shape" d="m54.72 3.16-21.63 20.84-.62.6c-1.9354461 1.869951-5.0045539 1.869951-6.94 0l-.62-.6-18.74-18.06-2.89-2.78c2.05719503-2.02825223 4.83108239-3.16367762 7.72-3.16h36c2.8889176-.00367762 5.662805 1.13174777 7.72 3.16z" fill="#f3d55b"/><path id="Shape" d="m24.91 24-21.63 20.84c-2.10346272-2.0657001-3.285828-4.8918415-3.28-7.84v-26c-.0037938-2.94775183 1.17825503-5.77313683 3.28-7.84l2.89 2.78z" fill="#f0c419"/><path id="Shape" d="m28 5h-14c-.5522847 0-1-.44771525-1-1s.4477153-1 1-1h14c.5522847 0 1 .44771525 1 1s-.4477153 1-1 1z"/><circle id="Oval" cx="10" cy="4" r="1"/></svg>` : ""}
                </section>`)

            $('#hud .chat .chat-body').scrollTop($('#hud .chat .chat-body div').height())
        },
        push: () =>
        {
            const text = $('#hud .chat input').val().trim()
            if(!text.length)return hud.chat.open(false)

            // тут отправка данных на клиент, но пока так
            // hud.chat.send(text)

            rage.send('ui::hud:pushChat', {
                text: text,
                chat: $('#hud .chat .chat-action button.select').attr('data-type')
            })

            $('#hud .chat input').val('')

            if(hud.chat.history.indexOf(text) !== -1) hud.chat.history.splice(hud.chat.history.indexOf(text), 1)
            hud.chat.history.push(text)
        },

        changeAction: (action) =>
        {
            $('#hud .chat .chat-action button').removeClass('select')
            $(`#hud .chat .chat-action button[data-type=${action}]`).addClass('select')

            $('#hud .chat input').focus()
        },

        setTimeout: () =>
        {
            if(hud.chat.timeout) clearTimeout(hud.chat.timeout)
            hud.chat.timeout = setTimeout(() =>
            {
                $('#hud .chat').addClass('chat-timeout')
                hud.chat.timeout = null
            }, 5000)
        }
    },

    setOnline: online =>
    {
        $('#hud .logo .online span').text(online)
    },
    toggleStock: (toggle, stock = '2') =>
    {
        $('#hud .logo .stock span').text(stock)

        if(!toggle || parseInt(stock) === 0) $('#hud .logo .stock').hide()
        else $('#hud .logo .stock').show()
    },
    setServerName: name =>
    {
        $('#hud .logo h3').text(name)
    },

    toggle: (type) =>
    {
        $('#hud').removeClass('hud-hide-all')
        $('#hud').removeClass('hud-hide')

        if(type === 'hide' || type === 'hide-all') $('#hud').addClass(`hud-${type}`)
    }
}

$(document).ready(() =>
{
    rage.addEvent('UI::hud', data =>
    {
        switch(data.cmd)
        {
            case 'toggle':
            {
                hud.toggle(data.data)
                break
            }
            case 'notify':
            {
                hud.notify.send(data.data.text, data.data.type)
                break
            }
            case 'update':
            {
                hud.toggleStock(true, data.data.stock)
                hud.setOnline(data.data.online)
                hud.cash.set(data.data.cash)
                hud.setServerName(data.data.serverName)

                break
            }
            case 'chatSend':
            {
                hud.chat.send(data.data.text, data.data.data)
                break
            }
            case 'chatOpen':
            {
                hud.chat.open(true)
                break
            }
        }
    })

    $('body').append(`
    	<div id="hud" class="hud-hide-all">
            <div class="logo">
                <svg width="226" height="271" viewBox="0 0 226 271" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M105.78 146.35C105.209 146.351 104.645 146.487 104.137 146.748C103.629 147.009 103.189 147.387 102.856 147.851C102.522 148.314 102.303 148.851 102.217 149.416C102.13 149.981 102.18 150.558 102.36 151.1C104.453 157.58 108.585 163.21 114.14 167.15C120.96 171.99 129.293 174.407 139.14 174.4C151.1 174.4 160.433 170.617 167.14 163.05C167.973 162.137 169.095 161.538 170.317 161.356C171.539 161.174 172.787 161.419 173.85 162.05L185.68 169C186.358 169.397 186.942 169.938 187.391 170.583C187.84 171.229 188.143 171.965 188.279 172.739C188.415 173.514 188.381 174.308 188.179 175.068C187.977 175.828 187.612 176.535 187.11 177.14C175.55 191.033 159.47 197.98 138.87 197.98C119.537 197.98 103.927 192.077 92.04 180.27C80.1533 168.463 74.21 153.513 74.21 135.42C74.21 117.673 80.0733 102.817 91.8 90.8499C103.527 78.8833 118.593 72.8999 137 72.8999C154.44 72.8999 168.743 78.9999 179.91 91.1999C191.077 103.4 196.663 118.22 196.67 135.66C196.67 137.287 196.553 139.237 196.32 141.51C196.179 142.839 195.552 144.068 194.558 144.962C193.565 145.856 192.276 146.35 190.94 146.35H105.78ZM105.43 125.43H166.2C166.758 125.43 167.309 125.3 167.809 125.051C168.309 124.802 168.744 124.44 169.08 123.994C169.417 123.548 169.645 123.03 169.747 122.481C169.85 121.932 169.823 121.367 169.67 120.83C167.59 113.423 163.923 107.67 158.67 103.57C152.406 98.6493 144.634 96.0456 136.67 96.1999C127.203 96.1999 119.313 98.7999 113 104C107.74 108.341 103.908 114.163 102 120.71C101.825 121.251 101.781 121.826 101.87 122.388C101.959 122.95 102.18 123.482 102.515 123.942C102.849 124.402 103.287 124.777 103.794 125.035C104.301 125.294 104.861 125.429 105.43 125.43Z" fill="white"/>
                    <path d="M185.31 75.15C173.269 65.2753 158.619 59.1121 143.14 57.41V0C148.081 0.270158 153.002 0.821048 157.88 1.65H157.78C158.863 1.83316 159.891 2.25772 160.788 2.89222C161.684 3.52672 162.427 4.35489 162.96 5.31534C163.493 6.27578 163.803 7.34389 163.867 8.44047C163.931 9.53705 163.748 10.634 163.33 11.65L163.16 12.04C162.076 14.6569 161.527 17.4645 161.546 20.297C161.565 23.1295 162.151 25.9295 163.269 28.5319C164.388 31.1343 166.016 33.4862 168.058 35.449C170.101 37.4118 172.515 38.9456 175.16 39.96C185.94 44.08 198.04 38.52 202.47 27.86L202.53 27.71C202.948 26.6916 203.591 25.7808 204.41 25.0455C205.23 24.3103 206.205 23.7696 207.262 23.4639C208.32 23.1581 209.433 23.0952 210.518 23.2798C211.603 23.4644 212.633 23.8918 213.53 24.53C213.91 24.79 214.28 25.06 214.66 25.34C218.566 28.1403 222.321 31.1444 225.91 34.34L185.31 75.15ZM128.22 57.41V0C123.191 0.230871 118.181 0.778624 113.22 1.64L112.5 1.75C111.391 1.93918 110.339 2.37566 109.422 3.02706C108.505 3.67845 107.747 4.52802 107.203 5.51269C106.659 6.49737 106.344 7.59187 106.281 8.71494C106.219 9.83802 106.409 10.9608 106.84 12C107.938 14.6643 108.502 17.5183 108.5 20.4C108.556 25.3155 106.896 30.0968 103.806 33.9198C100.716 37.7428 96.3886 40.3681 91.5703 41.3431C86.7521 42.3181 81.7447 41.5818 77.4111 39.2611C73.0775 36.9405 69.6891 33.1808 67.83 28.63C67.3878 27.5632 66.7105 26.61 65.8484 25.8415C64.9864 25.073 63.962 24.5091 62.8516 24.1919C61.7412 23.8746 60.5735 23.8122 59.4356 24.0093C58.2977 24.2063 57.219 24.6578 56.28 25.33L56.16 25.41C52.2539 28.2053 48.5018 31.2097 44.92 34.41L85.78 75.15C97.7649 65.0117 112.585 58.8167 128.22 57.41ZM75.22 85.69L34.41 44.91C30.9588 48.7497 27.7333 52.7865 24.75 57L24.65 57.14C24.0018 58.0546 23.5684 59.1036 23.382 60.2089C23.1956 61.3143 23.2611 62.4474 23.5735 63.5239C23.8858 64.6005 24.4371 65.5926 25.1862 66.4265C25.9354 67.2604 26.863 67.9144 27.9 68.34C38.23 72.62 43.9 84.13 40.31 94.74C39.3972 97.5079 37.9229 100.058 35.9795 102.23C34.036 104.402 31.6652 106.149 29.0154 107.363C26.3656 108.576 23.4938 109.23 20.5798 109.283C17.6657 109.336 14.7721 108.787 12.08 107.67L11.68 107.51C10.6641 107.09 9.56677 106.905 8.46952 106.969C7.37227 107.032 6.30339 107.342 5.34241 107.875C4.38142 108.408 3.55307 109.151 2.91899 110.049C2.2849 110.947 1.8614 111.976 1.68 113.06C1.68 113.32 1.59 113.56 1.55 113.83C0.765001 118.487 0.247486 123.184 0 127.9H58.09C59.3218 112.403 65.3037 97.6628 75.22 85.69ZM143.14 211.94V270.84C147.26 270.57 152.92 270.02 157.88 269.19C158.15 269.19 158.36 269.1 158.63 269.05C159.71 268.863 160.733 268.435 161.625 267.798C162.516 267.161 163.253 266.331 163.781 265.371C164.308 264.41 164.612 263.343 164.671 262.249C164.73 261.155 164.541 260.061 164.12 259.05L164.04 258.89C159.62 248.22 164.24 235.74 174.78 231.02C177.365 229.865 180.155 229.239 182.986 229.181C185.816 229.122 188.63 229.631 191.261 230.678C193.891 231.724 196.286 233.288 198.302 235.275C200.318 237.263 201.916 239.635 203 242.25L203.17 242.66C203.578 243.638 204.193 244.515 204.973 245.233C205.752 245.95 206.678 246.491 207.686 246.817C208.694 247.142 209.76 247.246 210.812 247.121C211.864 246.995 212.877 246.644 213.78 246.09C213.92 246 214.06 245.91 214.19 245.81C218.268 242.908 222.178 239.776 225.9 236.43L184.5 194.87C172.641 204.418 158.281 210.344 143.14 211.94ZM44.93 236.42C48.782 239.876 52.8322 243.105 57.06 246.09L57.31 246.27C58.2077 246.908 59.2379 247.335 60.3237 247.519C61.4095 247.703 62.5229 247.639 63.5806 247.332C64.6383 247.025 65.613 246.484 66.432 245.747C67.2509 245.011 67.8929 244.099 68.31 243.08L68.37 242.94C72.79 232.27 84.89 226.72 95.68 230.84C98.3256 231.853 100.741 233.386 102.784 235.349C104.827 237.312 106.456 239.664 107.575 242.266C108.694 244.869 109.279 247.67 109.297 250.503C109.315 253.335 108.765 256.143 107.68 258.76L107.52 259.15C107.102 260.165 106.919 261.262 106.982 262.357C107.046 263.453 107.355 264.521 107.887 265.481C108.419 266.442 109.16 267.27 110.055 267.905C110.951 268.54 111.978 268.966 113.06 269.15H113.24C118.201 270.008 123.211 270.559 128.24 270.8V211.94C112.964 210.548 98.4577 204.601 86.6 194.87L44.93 236.42ZM58.23 142.31H0C0.263342 147.641 0.854458 152.951 1.77 158.21C1.77499 158.283 1.77499 158.357 1.77 158.43C1.95666 159.512 2.38275 160.539 3.01713 161.435C3.65152 162.331 4.47815 163.075 5.43663 163.61C6.3951 164.146 7.46118 164.461 8.55695 164.532C9.65272 164.603 10.7505 164.428 11.77 164.02H11.94C17.0734 161.847 22.8505 161.756 28.0498 163.766C33.2491 165.776 37.4628 169.729 39.8 174.79C40.9542 177.373 41.5794 180.161 41.6388 182.99C41.6981 185.818 41.1904 188.63 40.1456 191.26C39.1008 193.889 37.54 196.282 35.5554 198.299C33.5707 200.315 31.2024 201.914 28.59 203L28.18 203.18C27.1666 203.604 26.2616 204.251 25.5318 205.072C24.8019 205.893 24.266 206.867 23.9636 207.924C23.6611 208.98 23.5999 210.09 23.7845 211.173C23.9691 212.256 24.3948 213.284 25.03 214.18L25.37 214.65C28.1715 218.551 31.1756 222.303 34.37 225.89L75.86 184.13C65.9334 172.267 59.7923 157.699 58.23 142.31Z" fill="url(#logo-gradient)"/>
                    <defs>
                        <radialGradient id="logo-gradient" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(21.84 234.89) scale(249.02)">
                            <stop stop-color="#FDCC05"/>
                            <stop offset="1" stop-color="#FD9A05"/>
                        </radialGradient>
                    </defs>
                </svg>
                <div class="online">
                    <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px"viewBox="0 0 511.999 511.999"><path d="M438.09,273.32h-39.596c4.036,11.05,6.241,22.975,6.241,35.404v149.65c0,5.182-0.902,10.156-2.543,14.782h65.461c24.453,0,44.346-19.894,44.346-44.346v-81.581C512,306.476,478.844,273.32,438.09,273.32z"/><path d="M107.265,308.725c0-12.43,2.205-24.354,6.241-35.404H73.91c-40.754,0-73.91,33.156-73.91,73.91v81.581c0,24.452,19.893,44.346,44.346,44.346h65.462c-1.641-4.628-2.543-9.601-2.543-14.783V308.725z"/><path d="M301.261,234.815h-90.522c-40.754,0-73.91,33.156-73.91,73.91v149.65c0,8.163,6.618,14.782,14.782,14.782h208.778c8.164,0,14.782-6.618,14.782-14.782v-149.65C375.171,267.971,342.015,234.815,301.261,234.815z"/><path d="M256,38.84c-49.012,0-88.886,39.874-88.886,88.887c0,33.245,18.349,62.28,45.447,77.524c12.853,7.23,27.671,11.362,43.439,11.362c15.768,0,30.586-4.132,43.439-11.362c27.099-15.244,45.447-44.28,45.447-77.524C344.886,78.715,305.012,38.84,256,38.84z"/><path d="M99.918,121.689c-36.655,0-66.475,29.82-66.475,66.475c0,36.655,29.82,66.475,66.475,66.475c9.298,0,18.152-1.926,26.195-5.388c13.906-5.987,25.372-16.585,32.467-29.86c4.98-9.317,7.813-19.946,7.813-31.227C166.393,151.51,136.573,121.689,99.918,121.689z"/><path d="M412.082,121.689c-36.655,0-66.475,29.82-66.475,66.475c0,11.282,2.833,21.911,7.813,31.227c7.095,13.276,18.561,23.874,32.467,29.86c8.043,3.462,16.897,5.388,26.195,5.388c36.655,0,66.475-29.82,66.475-66.475C478.557,151.509,448.737,121.689,412.082,121.689z"/></svg>
                    <span>1352</span>
                </div>
                <h3>Summer</h3>
                <div class="stock">
                    Акция x<span>2</span>
                </div>
            </div>
            <div class="speedometer">
                <div class="speed">
                    <span class="speed-numbers" style="top: 165px; left: 32px;">0</span>
                    <span class="speed-numbers" style="top: 122px; left: 18px;">20</span>
                    <span class="speed-numbers" style="top: 77px; left: 23px;">40</span>
                    <span class="speed-numbers" style="top: 39px; left: 44px;">60</span>
                    <span class="speed-numbers" style="top: 17px; left: 84px;">80</span>
                    <span class="speed-numbers" style="top: 17px;left: 130px;">100</span>
                    <span class="speed-numbers" style="top: 39px;left: 170px;">120</span>
                    <span class="speed-numbers" style="top: 77px;left: 192px;">140</span>
                    <span class="speed-numbers" style="top: 122px;left: 198px;">160</span>
                    <span class="speed-numbers" style="top: 165px;left: 186px;">180</span>

                    <svg viewBox="0 0 40 40">
                        <circle cx="20" cy="20" r="20" style="stroke-dashoffset: -273; stroke: #797979;"></circle>
                        <circle id="speed" cx="20" cy="20" r="20" style="stroke-dashoffset: -189"></circle>
                    </svg>

                    <div class="count">
                        <h4>25</h4>
                        <span>км / ч</span>
                    </div>

                    <div class="stats">
                        <svg class="on" id="engine" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 295.329 295.329"><path id="XMLID_49_" d="M291.416,142.376l-33.14-25.16c-2.997-2.275-7.01-2.661-10.383-0.98c-3.362,1.666-5.492,5.101-5.492,8.861v15.395h-9.803v-15.559c0-5.465-4.43-9.896-9.893-9.896h-19.696V78.294c0-5.466-4.431-9.896-9.894-9.896h-30.773V57.896h8.284c5.464,0,9.895-4.431,9.895-9.895c0-5.464-4.431-9.893-9.895-9.893h-63.92c-5.463,0-9.894,4.429-9.894,9.893c0,5.464,4.431,9.895,9.894,9.895h8.29v10.502h-38.25c-5.464,0-9.895,4.43-9.895,9.896v19.313H47.528c-5.465,0-9.895,4.43-9.895,9.894v22.634H19.787v-28.073c0-5.464-4.43-9.894-9.894-9.894C4.429,92.167,0,96.598,0,102.061v103.49c0,5.464,4.429,9.893,9.894,9.893c5.464,0,9.894-4.43,9.894-9.893v-28.074h17.847v23.203c0,5.465,4.43,9.894,9.895,9.894h24.881l34.907,42.989c1.879,2.313,4.701,3.656,7.68,3.656h107.709c5.464,0,9.893-4.432,9.893-9.895v-13.073h9.803v13.073c0,3.865,2.249,7.372,5.758,8.99c1.323,0.607,2.735,0.904,4.135,0.904c2.319,0,4.609-0.816,6.441-2.383l33.141-28.404c2.193-1.882,3.453-4.625,3.453-7.514v-68.663C295.329,147.164,293.88,144.246,291.416,142.376z"/></svg>
                        <svg id="lock" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 870.3 870.3"><path d="M561.05,288.9c27.898,11.8,53.699,27.3,77.1,46.2V201.5c0-111.1-90.4-201.5-201.5-201.5h-3.1c-111,0-201.4,90.4-201.4,201.5v133.6c23.4-18.899,49.2-34.399,77.1-46.2c7.5-3.2,15.2-6.1,22.9-8.7v-78.7c0-56,45.5-101.5,101.5-101.5h3.1c56,0,101.5,45.5,101.5,101.5v78.8C545.849,282.8,553.55,285.7,561.05,288.9z"/><path d="M151.75,586.9c0,156.5,126.9,283.399,283.4,283.399c156.5,0,283.401-126.8,283.401-283.399c0-76.9-30.701-146.7-80.4-197.801c-28-28.699-62-51.5-100-66.399c-31.9-12.5-66.701-19.3-103-19.3c-36.3,0-71.1,6.8-103,19.3c-38,14.8-72,37.6-100,66.399C182.35,440.2,151.75,510,151.75,586.9z M362.149,529.7c1-38.7,32.5-70.2,71.2-71.101c41.099-1,74.8,32.101,74.8,73c0,4.301-0.4,8.5-1.1,12.5c-3.602,20.7-15.9,38.5-33.102,49.301c-7.1,4.5-10.699,12.899-8.898,21L486.75,717.3c1.301,6.2-3.4,12.101-9.801,12.101H393.35c-6.4,0-11.101-5.801-9.8-12.101L405.249,614.4c1.7-8.2-1.8-16.601-8.899-21.101c-17.2-10.8-29.5-28.5-33.101-49.3C362.449,539.4,362.05,534.6,362.149,529.7z"/></svg>
                        <svg id="light" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 486 486"><path id="XMLID_49_" d="M298.4,424.7v14.2c0,11.3-8.3,20.7-19.1,22.3l-3.5,12.9c-1.9,7-8.2,11.9-15.5,11.9h-34.7c-7.3,0-13.6-4.9-15.5-11.9l-3.4-12.9c-10.9-1.7-19.2-11-19.2-22.4v-14.2c0-7.6,6.1-13.7,13.7-13.7h83.5C292.3,411,298.4,417.1,298.4,424.7z M362.7,233.3c0,32.3-12.8,61.6-33.6,83.1c-15.8,16.4-26,37.3-29.4,59.6c-1.5,9.6-9.8,16.7-19.6,16.7h-74.3c-9.7,0-18.1-7-19.5-16.6c-3.5-22.3-13.8-43.5-29.6-59.8c-20.4-21.2-33.1-50-33.4-81.7c-0.7-66.6,52.3-120.5,118.9-121C308.7,113.1,362.7,166.9,362.7,233.3z M256.5,160.8c0-7.4-6-13.5-13.5-13.5c-47.6,0-86.4,38.7-86.4,86.4c0,7.4,6,13.5,13.5,13.5c7.4,0,13.5-6,13.5-13.5c0-32.8,26.7-59.4,59.4-59.4C250.5,174.3,256.5,168.3,256.5,160.8z M243,74.3c7.4,0,13.5-6,13.5-13.5V13.5c0-7.4-6-13.5-13.5-13.5s-13.5,6-13.5,13.5v47.3C229.5,68.3,235.6,74.3,243,74.3z M84.1,233.2c0-7.4-6-13.5-13.5-13.5H23.3c-7.4,0-13.5,6-13.5,13.5c0,7.4,6,13.5,13.5,13.5h47.3C78.1,246.7,84.1,240.7,84.1,233.2z M462.7,219.7h-47.3c-7.4,0-13.5,6-13.5,13.5c0,7.4,6,13.5,13.5,13.5h47.3c7.4,0,13.5-6,13.5-13.5C476.2,225.8,470.2,219.7,462.7,219.7z M111.6,345.6l-33.5,33.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,3.9,9.5,3.9s6.9-1.3,9.5-3.9l33.5-33.5c5.3-5.3,5.3-13.8,0-19.1C125.4,340.3,116.8,340.3,111.6,345.6z M364.9,124.8c3.4,0,6.9-1.3,9.5-3.9l33.5-33.5c5.3-5.3,5.3-13.8,0-19.1c-5.3-5.3-13.8-5.3-19.1,0l-33.5,33.5c-5.3,5.3-5.3,13.8,0,19.1C358,123.5,361.4,124.8,364.9,124.8z M111.6,120.8c2.6,2.6,6.1,3.9,9.5,3.9s6.9-1.3,9.5-3.9c5.3-5.3,5.3-13.8,0-19.1L97.1,68.2c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1L111.6,120.8z M374.4,345.6c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1l33.5,33.5c2.6,2.6,6.1,3.9,9.5,3.9s6.9-1.3,9.5-3.9c5.3-5.3,5.3-13.8,0-19.1L374.4,345.6z"/></svg>
                    </div>

                    <div class="mileage">
                        <h4>0000<span>3123</span></h4>
                        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 511.999 511.999"><path d="M357.42,209.037c-9.09-9.093-23.832-9.09-32.924,0l-66.389,66.387c-3.286-0.779-6.708-1.203-10.23-1.203c-24.435,0-44.316,19.897-44.316,44.356c0,24.459,19.88,44.357,44.316,44.357c24.459,0,44.357-19.899,44.357-44.357c0-3.522-0.424-6.944-1.203-10.23l66.387-66.387C366.513,232.87,366.513,218.128,357.42,209.037z"/><path d="M437.082,120.098c-99.832-99.835-262.314-99.84-362.204,0.005c-86.213,86.257-99.573,222.314-31.77,323.512c7.156,10.681,21.62,13.535,32.301,6.382c10.681-7.156,13.539-21.618,6.382-32.301c-19.051-28.435-30.27-60.236-33.926-92.597h21.889c12.857,0,23.281-10.424,23.281-23.281s-10.424-23.281-23.281-23.281H47.791c4.219-38.675,19.11-76.218,44.212-107.794l15.84,15.842c4.546,4.546,10.504,6.82,16.463,6.82c5.958,0,11.917-2.274,16.461-6.82c9.092-9.09,9.092-23.832,0-32.924l-15.913-15.91c32.054-25.745,69.977-40.678,108.842-44.8v21.986c0,12.857,10.424,23.281,23.281,23.281c12.857,0,23.281-10.424,23.281-23.281V93.162c38.183,4.412,75.369,19.281,106.874,44.598l-15.901,15.902c-9.09,9.092-9.089,23.832,0.002,32.925c4.547,4.546,10.504,6.818,16.463,6.818s11.918-2.274,16.463-6.82l15.826-15.826c25.107,31.573,40.002,69.111,44.224,107.779h-21.961c-12.857,0-23.281,10.424-23.281,23.281c0,12.857,10.424,23.281,23.281,23.281h21.89c-3.658,32.36-14.88,64.159-33.937,92.594c-7.158,10.681-4.304,25.142,6.376,32.3c3.981,2.668,8.485,3.945,12.941,3.945c7.503,0,14.869-3.621,19.36-10.321C536.708,342.412,523.337,206.352,437.082,120.098z"/><path d="M360.923,420.217H151.072c-12.857,0-23.281,10.424-23.281,23.281c0,12.857,10.424,23.281,23.281,23.281h209.851c12.857,0,23.281-10.424,23.281-23.281C384.204,430.641,373.78,420.217,360.923,420.217z"/></svg>
                    </div>
                </div>
            </div>
            <div class="cash">
                <section>
                    <h4>$ <span data-cash="0">0</span></h4>
                </section>
            </div>

            <div class="notify">
            </div>

            <div class="chat">
                <div class="chat-body">
                    <div></div>
                </div>
                <div class="chat-action">
                    <button data-type="chat" class="select">Чат</button>
                    <button data-type="nonrp-chat">НонРП чат</button>
                    <button data-type="admin">Админ чат</button>
                    <button data-type="me">/me</button>
                    <button data-type="do">/do</button>
                    <button data-type="todo">/todo</button>
                    <button data-type="fraction">Чат фракции</button>
                    <button data-type="nonrp-fraction">НонРП Чат фракции</button>
                </div>
                <div class="chat-input">
                    <input placeholder="Начните вводить текст или команду..." type="text">
                    <svg onclick="hud.chat.push()" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 512.001 512.001"><path d="M9.47,192.489c-5.539,2.215-9.248,7.49-9.461,13.451c-0.212,5.963,3.115,11.488,8.482,14.09l176.547,85.623L490.696,0.002L9.47,192.489z"/><path d="M206.344,326.96l85.624,176.548c2.525,5.206,7.798,8.491,13.552,8.491c0.179,0,0.357-0.003,0.538-0.01c5.962-0.212,11.237-3.921,13.453-9.46L512.001,21.306L206.344,326.96z"/></svg>
                </div>
            </div>
        </div>`)

    $('body').on('keydown', '#hud .chat input', elem =>
    {
        if(elem.keyCode === 13) hud.chat.push()
        else if(elem.keyCode === 9)
        {
            let action = $('#hud .chat .chat-action button.select').next().attr('data-type')
            if(action === undefined) action = $('#hud .chat .chat-action button:first-child').attr('data-type')

            hud.chat.changeAction(action)
        }
        else if(elem.keyCode === 38 || elem.keyCode === 40)
        {
            elem.preventDefault()

            let text
            const index = hud.chat.history.indexOf($('#hud .chat input').val())

            if(index === -1)
            {
                hud.chat.historyCurrentText = $('#hud .chat input').val()
                if(elem.keyCode === 38
                    && hud.chat.history.length) $('#hud .chat input').val(hud.chat.history[hud.chat.history.length - 1])
            }
            else
            {
                if(elem.keyCode === 38
                    && index > 0) $('#hud .chat input').val(hud.chat.history[index - 1])
                else if(elem.keyCode === 40)
                {
                    if(index === hud.chat.history.length - 1) $('#hud .chat input').val(hud.chat.historyCurrentText)
                    else $('#hud .chat input').val(hud.chat.history[index + 1])
                }
            }
        }
    })
    $('body').on('click', '#hud .chat .chat-action button', elem =>
    {
        hud.chat.changeAction($(elem.target).attr('data-type'))
    })
    $('body').on('focusout', '#hud .chat input', elem =>
    {
        if($('#hud .chat').hasClass('chat-opened')) hud.chat.open(false)
    })

    $('body').on('keydown', elem =>
    {
        if(elem.keyCode === 84
            && !$('#hud').hasClass('hud-hide')
            && !$('#hud').hasClass('hud-hide-all')
            && !$('#hud .chat').hasClass('chat-opened')
            && !$('#hud .chat').hasClass('chat-hide')) rage.send('ui::hud:openChat')
        if(elem.keyCode === 27
            && $('#hud .chat').hasClass('chat-opened')) hud.chat.open(false)
    })
})
